function getPageLang(){if(document.getElementById("localeSelect_label").innerHTML=="Deutsch"){itaLanguage="de";retrycount=1}else if(document.getElementById("localeSelect_label").innerHTML=="English"){itaLanguage="en";retrycount=1}else if(retrycount>=20){console.log("Unable to detect language: Falling back to EN");itaLanguage="en";retrycount=1}else{retrycount++;setTimeout(function(){getPageLang()},100);return false}if(window.location.href.indexOf("http://matrix.itasoftware.com/view/calendar")!=-1){createmonthlinks();setTimeout(function(){makenavigationvisible()},200)}else if(window.location.href.indexOf("http://matrix.itasoftware.com/view/details")!=-1){setTimeout(function(){fePS()},200)}else if(window.location.href.indexOf("http://matrix.itasoftware.com/search.htm")!=-1||window.location.href.indexOf("http://matrix.itasoftware.com/?")!=-1||window.location.href=="http://matrix.itasoftware.com/"){setTimeout(function(){buildmain()},200)}}function exRE(e,t){var n=new Array;var r;var i=0;while((r=t.exec(e))!=null){if(r.index===t.lastIndex){t.lastIndex++}for(k=1;k<r.length;k++){n[i++]=r[k]}}return n}function hasClass(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}function inArray(e,t){var n=t.length;for(var r=0;r<n;r++){if(t[r]==e)return true}return false}function monthnameToNumber(e){var t=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];return t.indexOf(e.toUpperCase())+1}function monthnumberToName(e){var t=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];return t[e-1]}function getFlightYear(e,t){var n=new Date;var r=n.getMonth();var i=n.getDate();var s=n.getFullYear();if(r>t-1||r==t-1&&e<i){s+=1}return s}function return12htime(e){var t=/([01]?\d)(:\d{2})(AM|PM|am|pm| AM| PM| am| pm)/g;e=t.exec(e);var n=0;e[3]=trimStr(e[3]);if((e[3]=="AM"||e[3]=="am")&&e[1]=="12"){n=-12}else if((e[3]=="PM"||e[3]=="pm")&&e[1]!="12"){n=12}return+e[1]+n+e[2]}function trimStr(e){return e.replace(/^\s+|\s+$/gm,"")}function getcabincode(e){switch(e){case"E":e=0;break;case"P":e=1;break;case"B":e=2;break;case"F":e=3;break;default:e=0}return e}function buildmain(){if(document.getElementById("searchFormsContainer")===undefined){retrycount++;if(retrycount>20){console.log("Error Content not found.");return false}setTimeout(function(){buildmain()},100);return false}if(!hasClass(document.getElementById("ita_form_SliceForm_0"),"dijitHidden")&&document.getElementById("ita_layout_CollapsiblePane_1").style.display=="none"){document.getElementById("sites_matrix_layout_RouteLanguageToggleLink_0").click()}}function makenavigationvisible(){document.getElementById("calendarUpdateForm2").style.display=""}function createmonthlinks(){linktoimages="http://matrix.itasoftware.com/js/ita/themes/ita/images/";newtd=document.createElement("td");newtd.setAttribute("id","goprevmonth");newtd.setAttribute("style","padding-right:10px;");newimg=document.createElement("img");newimg.setAttribute("src",linktoimages+"arrowbtn_prev.png");newtd.appendChild(newimg);insert=document.getElementById("widget_monthSelect").parentNode;insert.parentNode.insertBefore(newtd,insert);newtd=document.createElement("td");newtd.setAttribute("id","gonextmonth");newtd.setAttribute("style","padding-right:10px;");newimg=document.createElement("img");newimg.setAttribute("src",linktoimages+"arrowbtn_next.png");newtd.appendChild(newimg);insert=document.getElementById("widget_monthSelect").parentNode;insert.parentNode.insertBefore(newtd,insert.nextSibling);document.getElementById("goprevmonth").onclick=function(){changemonth(-1)};document.getElementById("gonextmonth").onclick=function(){changemonth(1)}}function changemonth(e){if(itaLanguage=="de"){var t=".";var n=1}else{var t="/";var n=0}var r=document.getElementById("monthSelect").value.split(t);r[0]=parseInt(r[0]);r[1]=parseInt(r[1]);r[2]=parseInt(r[2]);r[n]+=e;if(r[n]>=13){r[2]+=Math.floor(r[n]/12);r[n]-=Math.floor(r[n]/12)*12}else if(r[n]<=0){r[2]+=Math.floor((r[n]-1)/12);r[n]+=Math.abs(Math.floor(r[n]/12))*12;if(r[n]==0)r[n]=12}if(r[0]<10&&itaLanguage=="de"){r[0]="0"+r[0]}if(r[1]<10&&itaLanguage=="de"){r[1]="0"+r[1]}r=r.toString().replace(/,/g,t);document.getElementById("monthSelect").value=r;document.getElementById("calendarUpdateButton").click();setTimeout(function(){makenavigationvisible()},200)}function fePS(){if(document.getElementById("itineraryNode").innerHTML===""){retrycount++;if(retrycount>20){console.log("Error Content not found.");return false}setTimeout(function(){fePS()},500);return false}var e=readItinerary();printDelta(e);printOrbitz(e);printUA(e);if(e["carriers"].length==1&&e["carriers"][0]=="US"){printUS(e)}printFarefreaks(e,0);printFarefreaks(e,1);printGCM(e)}function readItinerary(){var e=new Array;var t=new Array;var n=document.getElementById("itineraryNode").innerHTML;var r=/airline_logos\/35px\/(\w\w)\.png/g;var i=new Array;i=exRE(n,r);var r=/airline_logos\/35px\/\w\w\.png\"\salt\=\"(.*?)\"\stitle/g;var s=new Array;s=exRE(n,r);for(p=0;p<i.length;p++){if(!inArray(i[p],t)){t.push(i[p])}}var o="";var r=/(€)/g;var u=new Array;u=exRE(n,r);if(u.length>1)o="EUR";if(o==""){var r=/($)/g;var u=new Array;u=exRE(n,r);if(u.length>1)o="USD"}var r=/(strong)*\>[^\(\<]*\((\w{3})[^\(\<]*\((\w{3})/g;var a=new Array;var f=new Array;var l=new Array;var c=new Array;f=exRE(n,r);var r=/(strong)*\>[^\(\<]*\(\w{3}[^\(\<]*\(\w{3}[^\,]*\,\s*([a-zA-Z0-9]{1,3})\.?\s*([a-zA-Z0-9ä]{1,3})/g;var h=new Array;h=exRE(n,r);if(itaLanguage=="de"){for(var p=0;p<h.length;p+=3){var u=h[p+1];h[p+1]=h[p+2].replace(/ä/g,"a").replace(/i/g,"y").replace(/Dez/g,"Dec").replace(/Okt/g,"Oct");h[p+2]=u}}var r=/itaGreyText\"\>\s*([^\n]*)\s*\<\/td\>/g;var d=new Array;d=exRE(n,r);var v=Array();for(var p=0;p<d.length;p+=5){var u={codeshare:0,arrdate:"",layoverduration:""};if(d[p]!=""){u["codeshare"]=1}if(d[p+2]!=""){u["arrdate"]={};var r=/[^\,]*\,\s*([a-zA-Z0-9]{1,3})\.?\s*([a-zA-Z0-9ä]{1,3})/g;var m=new Array;m=exRE(d[p+2],r);if(itaLanguage=="de"){var g=m[0];m[0]=m[1].replace(/ä/g,"a").replace(/i/g,"y").replace(/Dez/g,"Dec").replace(/Okt/g,"Oct");m[1]=g}u["arrdate"]["day"]=parseInt(m[1]);u["arrdate"]["month"]=monthnameToNumber(m[0]);u["arrdate"]["year"]=getFlightYear(u["arrdate"]["day"],u["arrdate"]["month"])}if(d[p+3]!=""){var r=/([0-9]{1,2})/g;var m=new Array;m=exRE(d[p+3],r);u["layoverduration"]=parseInt(m[0])*60+parseInt(m[1])}v.push(u)}var r=/dijitReset departure\"\>[^0-9]+(.*?)\<\/td\>/g;var y=new Array;y=exRE(n,r);var r=/dijitReset arrival\"\>[^0-9]+(.*?)\<\/td\>/g;var b=new Array;b=exRE(n,r);if(itaLanguage!="de"){for(var p=0;p<y.length;p++){y[p]=return12htime(y[p]);b[p]=return12htime(b[p])}}var r=/dijitReset duration\"\>([^\<]*)\<\/td\>/g;var w=new Array;w=exRE(n,r);for(var p=0;p<w.length;p++){var r=/([0-9]{1,2})/g;var u=new Array;u=exRE(w[p],r);w[p]=parseInt(u[0])*60+parseInt(u[1])}var r=/dijitReset carrier\"\>(.*?)\<\/td\>/g;var E=new Array;E=exRE(n,r);var S=new Array;for(p=0;p<E.length;p++){var x=s[p].replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+"\\s([0-9]*)";var T=new RegExp(x,"g");S[p]=exRE(E[p],T)}var r=/\((\w)\)/g;var N=new Array;N=exRE(n,r);var r=/(\w)[\w]+\&nbsp\;\(\w\)/g;var C=new Array;C=exRE(n,r);var r=/farePrice\"\>[^0-9]*([0-9,.]+)/g;var k=new Array;k=exRE(n,r);k=k[k.length-1];if(itaLanguage=="de"){k=k.replace(/\./g,"").replace(/\,/g,".")}else{k=k.replace(/\,/g,"")}if(itaLanguage=="de"){var r=/Gesamtpreis\sfür\s([0-9])\sPassagier/g}else{var r=/Total\scost\sfor\s([0-9])\spassenger/g}var L=new Array;L=exRE(n,r);var A=document.getElementById("ita_layout_RoundedPane_1").innerHTML;if(itaLanguage=="de"){var r=/Airline\s\w\w\s(\w+)\s[\w{3}]/g}else{var r=/Carrier\s\w\w\s(\w+)\s[\w{3}]/g}var O=new Array;O=exRE(A,r);if(itaLanguage=="de"){var r=/Strecke\(n\) ([\w\(\)\s\-,]+)/g}else{var r=/Covers ([\w\(\)\s\-,]+)/g}var M={fares:new Array,legs:new Array};M["fares"]=exRE(A,r);var r=/(\w\w\w\-\w\w\w)/g;for(p=0;p<M["fares"].length;p++){M["legs"].push(exRE(M["fares"][p],r))}M["fares"]=O;var _=new Array;for(var p=0;p<M["legs"].length;p++){for(var D=0;D<M["legs"][p].length;D++){_.push(M["legs"][p][D]+"-"+M["fares"][p])}}var P=-1;var H=0;var B={};for(p=0;p<f.length;p+=3){if(f[p]=="strong"){if(P>=0){e.push(B)}P++;B={};B["orig"]=f[p+1];B["dest"]=f[p+2];B["dep"]={};B["arr"]={};B["dep"]["day"]=parseInt(h[p+2]);B["dep"]["month"]=monthnameToNumber(h[p+1]);B["dep"]["year"]=getFlightYear(B["dep"]["day"],B["dep"]["month"]);B["dep"]["time"]=y[H];B["seg"]=new Array;if(f.length<=p+3||f[p+3]=="strong"){u={};u["orig"]=f[p+1];u["dest"]=f[p+2];u["dep"]={};u["dep"]["day"]=parseInt(h[p+2]);u["dep"]["month"]=monthnameToNumber(h[p+1]);u["dep"]["year"]=getFlightYear(u["dep"]["day"],u["dep"]["month"]);u["dep"]["time"]=y[H];u["arr"]={};if(v[H]["arrdate"]!=""){u["arr"]["day"]=v[H]["arrdate"]["day"];u["arr"]["month"]=v[H]["arrdate"]["month"];u["arr"]["year"]=v[H]["arrdate"]["year"]}else{u["arr"]["day"]=u["dep"]["day"];u["arr"]["month"]=u["dep"]["month"];u["arr"]["year"]=u["dep"]["year"]}u["arr"]["time"]=b[H];B["arr"]["day"]=u["arr"]["day"];B["arr"]["month"]=u["arr"]["month"];B["arr"]["year"]=u["arr"]["year"];B["arr"]["time"]=u["arr"]["time"];u["codeshare"]=v[H]["codeshare"];u["layoverduration"]=v[H]["layoverduration"];u["duration"]=w[H];u["carrier"]=i[H];u["bookingclass"]=N[H];u["fnr"]=S[H][0];u["cabin"]=getcabincode(C[H]);for(var D=0;D<_.length;D++){if(_[D].indexOf(u["orig"]+"-"+u["dest"]+"-")!=-1){u["farebase"]=_[D].replace(u["orig"]+"-"+u["dest"]+"-","");_[D]=u["farebase"];D=_.length}}B["seg"].push(u);H++}}else{u={};u["orig"]=f[p+1];u["dest"]=f[p+2];u["dep"]={};u["dep"]["day"]=parseInt(h[p+2]);u["dep"]["month"]=monthnameToNumber(h[p+1]);u["dep"]["year"]=getFlightYear(u["dep"]["day"],u["dep"]["month"]);u["dep"]["time"]=y[H];u["arr"]={};if(v[H]["arrdate"]!=""){u["arr"]["day"]=v[H]["arrdate"]["day"];u["arr"]["month"]=v[H]["arrdate"]["month"];u["arr"]["year"]=v[H]["arrdate"]["year"]}else{u["arr"]["day"]=u["dep"]["day"];u["arr"]["month"]=u["dep"]["month"];u["arr"]["year"]=u["dep"]["year"]}u["arr"]["time"]=b[H];B["arr"]["day"]=u["arr"]["day"];B["arr"]["month"]=u["arr"]["month"];B["arr"]["year"]=u["arr"]["year"];B["arr"]["time"]=u["arr"]["time"];u["codeshare"]=v[H]["codeshare"];u["layoverduration"]=v[H]["layoverduration"];u["duration"]=w[H];u["carrier"]=i[H];u["bookingclass"]=N[H];u["fnr"]=S[H][0];u["cabin"]=getcabincode(C[H]);for(var D=0;D<_.length;D++){if(_[D].indexOf(u["orig"]+"-"+u["dest"]+"-")!=-1){u["farebase"]=_[D].replace(u["orig"]+"-"+u["dest"]+"-","");_[D]=u["farebase"];D=_.length}}B["seg"].push(u);H++}}e.push(B);e={itin:e,price:k,numPax:L[0],carriers:t,cur:o,farebases:M["fares"]};return e}function getDeltaCabin(e){switch(e){case 2:e="B2-Business";break;case 3:e="B2-Business";break;default:e="B5-Coach"}return e}function printDelta(e){var t="http://"+(itaLanguage=="de"?"de":"www");t+=".delta.com/booking/priceItin.do?dispatchMethod=priceItin&tripType=multiCity&cabin=B5-Coach";t+="&currencyCd="+(e["cur"]=="EUR"?"EUR":"USD")+"&exitCountry=US";var n=0;for(var r=0;r<e["itin"].length;r++){for(var i=0;i<e["itin"][r]["seg"].length;i++){t+="&itinSegment["+n.toString()+"]="+r.toString()+":"+e["itin"][r]["seg"][i]["bookingclass"];t+=":"+e["itin"][r]["seg"][i]["orig"]+":"+e["itin"][r]["seg"][i]["dest"]+":"+e["itin"][r]["seg"][i]["carrier"]+":"+e["itin"][r]["seg"][i]["fnr"];t+=":"+monthnumberToName(e["itin"][r]["seg"][i]["dep"]["month"])+":"+(e["itin"][r]["seg"][i]["dep"]["day"]<10?"0":"")+e["itin"][r]["seg"][i]["dep"]["day"]+":"+e["itin"][r]["seg"][i]["dep"]["year"]+":0";n++}}t+="&fareBasis="+e["farebases"].toString().replace(/,/g,":");t+="&price="+e["price"];t+="&numOfSegments="+n.toString()+"&paxCount="+e["numPax"];t+="&vendorRedirectFlag=true&vendorID=Google";printUrl(t,"DL","")}function getOrbitzCabin(e){switch(e){case 2:e="B";break;case 3:e="F";break;default:e="C"}return e}function printOrbitz(e){var t="";var n="/shop/home?type=air&source=GOOGLE_META&searchHost=ITA&ar.type=multiCity&strm=true";for(var r=0;r<e["itin"].length;r++){var i=r.toString();n+="&ar.mc.slc["+i+"].orig.key="+e["itin"][r]["orig"];n+="&_ar.mc.slc["+i+"].originRadius=0";n+="&ar.mc.slc["+i+"].dest.key="+e["itin"][r]["dest"];n+="&_ar.mc.slc["+i+"].destinationRadius=0";var s=e["itin"][r]["dep"]["year"]%100;n+="&ar.mc.slc["+i+"].date="+e["itin"][r]["dep"]["month"].toString()+"/"+e["itin"][r]["dep"]["day"].toString()+"/"+s.toString();n+="&ar.mc.slc["+i+"].time=Anytime";for(var o=0;o<e["itin"][r]["seg"].length;o++){var u=0;while(o+u<e["itin"][r]["seg"].length-1){if(e["itin"][r]["seg"][o+u]["fnr"]!=e["itin"][r]["seg"][o+u+1]["fnr"]||e["itin"][r]["seg"][o+u]["layoverduration"]>=1440)break;u++}t+=e["itin"][r]["seg"][o]["carrier"]+e["itin"][r]["seg"][o]["fnr"]+e["itin"][r]["seg"][o]["orig"]+e["itin"][r]["seg"][o+u]["dest"]+(e["itin"][r]["seg"][o]["dep"]["month"]<10?"0":"")+e["itin"][r]["seg"][o]["dep"]["month"]+(e["itin"][r]["seg"][o]["dep"]["day"]<10?"0":"")+e["itin"][r]["seg"][o]["dep"]["day"]+getOrbitzCabin(e["itin"][r]["seg"][o]["cabin"]);t+="_";o+=u}}n+="&ar.mc.numAdult="+e["numPax"];n+="&ar.mc.numSenior=0&ar.mc.numChild=0&ar.mc.child[0]=&ar.mc.child[1]=&ar.mc.child[2]=&ar.mc.child[3]=&ar.mc.child[4]=&ar.mc.child[5]=&ar.mc.child[6]=&ar.mc.child[7]=&search=Search Flights&ar.mc.nonStop=true&_ar.mc.nonStop=0";if(e["carriers"].length<=3){n+="&_ar.mc.narrowSel=1&ar.mc.narrow=airlines";for(var r=0;r<3;r++){if(r<e["carriers"].length){n+="&ar.mc.carriers["+r+"]="+e["carriers"][r]}else{n+="&ar.mc.carriers["+r+"]="}}}else{n+="&_ar.mc.narrowSel=0&ar.mc.narrow=airlines&ar.mc.carriers[0]=&ar.mc.carriers[1]=&ar.mc.carriers[2]="}n+="&ar.mc.cabin=C";n+="&selectKey="+t.substring(0,t.length-1);if(e["cur"]=="USD"){var a=parseFloat(pricing)+6.99;n+="&userRate.price=USD|"+a.toString()}printUrl("http://www.cheaptickets.com"+n,"CHPTIX","");printUrl("http://www.orbitz.com"+n,"ORB","")}function getUACabin(e){switch(e){case 2:e="Business";break;case 3:e="First";break;default:e="Coach"}return e}function printUA(e){var t='{"post": {"pax": '+e["numPax"];t+=', "trips": [';for(var n=0;n<e["itin"].length;n++){var r=3;t+='{"origin": "'+e["itin"][n]["orig"]+'", "dest": "'+e["itin"][n]["dest"]+'", "dep_date": "'+e["itin"][n]["dep"]["month"]+"/"+e["itin"][n]["dep"]["day"]+"/"+e["itin"][n]["dep"]["year"]+'", "segments": [';for(var i=0;i<e["itin"][n]["seg"].length;i++){var s=0;while(i+s<e["itin"][n]["seg"].length-1){if(e["itin"][n]["seg"][i+s]["fnr"]!=e["itin"][n]["seg"][i+s+1]["fnr"]||e["itin"][n]["seg"][i+s]["layoverduration"]>=1440)break;s++}t+='{"origin": "'+e["itin"][n]["seg"][i]["orig"]+'", "dep_date": "'+e["itin"][n]["seg"][i]["dep"]["month"].toString()+"/"+e["itin"][n]["seg"][i]["dep"]["day"].toString()+"/"+e["itin"][n]["seg"][i]["dep"]["year"].toString()+'", "dest_date": " ", "dest": "'+e["itin"][n]["seg"][i+s]["dest"]+'", ';t+='"flight_num": '+e["itin"][n]["seg"][i]["fnr"]+', "carrier": "'+e["itin"][n]["seg"][i]["carrier"]+'", "fare_code": "'+e["itin"][n]["seg"][i]["farebase"]+'"},';if(e["itin"][n]["seg"][i]["cabin"]<r){r=e["itin"][n]["seg"][i]["cabin"]}i+=s}t=t.substring(0,t.length-1)+'],"cabin": "'+getUACabin(r)+'"},'}t="https://www.hipmunk.com/bookjs?booking_info="+encodeURIComponent(t.substring(0,t.length-1)+']}, "kind": "flight", "provider_code": "UA" }');printUrl(t,"UA","Copy Link in Text, via HPMNK")}function getUSCabin(e){switch(e){case 2:e="B";break;case 3:e="F";break;default:e="C"}return e}function printUS(e){var t="https://shopping.usairways.com/Flights/Passenger.aspx?g=goo&c=goog_US_pax";t+="&a="+e["numPax"];t+="&s="+getUSCabin(e["itin"][0]["seg"][0]["cabin"]).toLowerCase();for(var n=0;n<e["itin"].length;n++){for(var r=0;r<e["itin"][n]["seg"].length;r++){t+="&o"+n+r+"="+e["itin"][n]["seg"][r]["orig"]+"&d"+n+r+"="+e["itin"][n]["seg"][r]["dest"]+"&f"+n+r+"="+e["itin"][n]["seg"][r]["fnr"];t+="&t"+n+r+"="+e["itin"][n]["seg"][r]["dep"]["year"]+(e["itin"][n]["seg"][r]["dep"]["month"]<10?"0":"")+e["itin"][n]["seg"][r]["dep"]["month"]+(e["itin"][n]["seg"][r]["dep"]["day"]<10?"0":"")+e["itin"][n]["seg"][r]["dep"]["day"]+"0000";t+="&x"+n+r+"="+e["itin"][n]["seg"][r]["farebase"]}}printUrl(t,"US","")}function printFarefreaks(e,t){var n=new Array;var r=3;var i=0;var s="https://www.farefreaks.com/landing/landing.php?";if(itaLanguage=="de"){s+="lang=de"}else{s+="lang=us"}s+="&target=flightsearch&referrer=matrix";for(var o=0;o<e["itin"].length;o++){if(t!=1){s+="&orig["+i+"]="+e["itin"][o]["orig"];s+="&dest["+i+"]="+e["itin"][o]["dest"];s+="&date["+i+"]="+e["itin"][o]["dep"]["year"].toString()+"-"+e["itin"][o]["dep"]["month"]+"-"+e["itin"][o]["dep"]["day"]+"_"+e["itin"][o]["dep"]["time"]+":00";s+="&validtime["+i+"]=1";i++}for(var u=0;u<e["itin"][o]["seg"].length;u++){if(t==1){var a=0;while(u+a<e["itin"][o]["seg"].length-1){if(e["itin"][o]["seg"][u+a]["fnr"]!=e["itin"][o]["seg"][u+a+1]["fnr"]||e["itin"][o]["seg"][u+a]["layoverduration"]>=1440)break;a++}s+="&orig["+i+"]="+e["itin"][o]["seg"][u]["orig"];s+="&dest["+i+"]="+e["itin"][o]["seg"][u+a]["dest"];s+="&date["+i+"]="+e["itin"][o]["seg"][u]["dep"]["year"].toString()+"-"+e["itin"][o]["seg"][u]["dep"]["month"]+"-"+e["itin"][o]["seg"][u]["dep"]["day"]+"_"+e["itin"][o]["seg"][u]["dep"]["time"]+":00";s+="&validtime["+i+"]=1";i++;u+=a}if(e["itin"][o]["seg"][u]["cabin"]<r){r=e["itin"][o]["seg"][u]["cabin"]}if(!inArray(e["itin"][o]["seg"][u]["carrier"],n)){n.push(e["itin"][o]["seg"][u]["carrier"])}}}s+="&adult="+e["numPax"];s+="&cabin="+r;s+="&child=0&childage[]=&flexible=0";if(t==1){s+="&nonstop=1";desc="Based on "+i+" segments"}else{s+="&nonstop=0";desc="Based on "+i+" legs"}if(n.length<=3){s+="&carrier="+n.toString()}if(i<=6){printUrl(s,"FF",desc)}}function printGCM(e){var t="http://www.gcmap.com/mapui?P=";for(var n=0;n<e["itin"].length;n++){for(var r=0;r<e["itin"][n]["seg"].length;r++){t+=e["itin"][n]["seg"][r]["orig"]+"-";if(r+1<e["itin"][n]["seg"].length){if(e["itin"][n]["seg"][r]["dest"]!=e["itin"][n]["seg"][r+1]["orig"]){t+=e["itin"][n]["seg"][r]["dest"]+";"}}else{t+=e["itin"][n]["seg"][r]["dest"]+";"}}}printUrl(t,"GCM","")}function printUrl(e,t,n){var r=document.getElementById("sidebarNode");r.innerHTML=r.innerHTML+'<br><br><font size=4><bold><a href="'+e+'" target=_blank>Open with '+t+"</a></font></bold>"+(n?"<br>("+n+")":"")}var itaLanguage="en";var retrycount=1;setTimeout(function(){getPageLang()},100);
